"use strict";(self["webpackChunkmytext"]=self["webpackChunkmytext"]||[]).push([[984],{7984:function(t,e,i){i.r(e),i.d(e,{default:function(){return z}});var l=i(6768),a=i(4232);const s={class:"DisciplineCompetitionTotalBackground"},n={class:"DisciplineCompetitionTableBackground"},o=["onClick"],c=["src"],r=["onClick"],u={key:0,class:"DisciplineCompetitionDetailsBackground"},k={class:"DisciplineCompetitionDetailsFormBackground"},d={class:"DisciplineCompetitionDetailsForm"},p={class:"label-row"},h={class:"label-row"},L={class:"label-row"},m={class:"label-row"},C={class:"label-row"},g={class:"label-row"},b={class:"label-row"},D={class:"label-row"},v=["src"],w={class:"label-row"},f={href:"{{  data.signUpFile }}",target:"_blank"},_={class:"DisciplineCompetitionPagination"},y=["src"];function F(t,e,i,F,P,j){const B=(0,l.g2)("el-pagination");return(0,l.uX)(),(0,l.CE)("div",s,[(0,l.Lk)("div",n,[(0,l.Lk)("table",null,[e[3]||(e[3]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{style:{width:"2%"}},"姓名"),(0,l.Lk)("th",{style:{width:"5%"}},"证书名"),(0,l.Lk)("th",{style:{width:"3%"}},"证书编号"),(0,l.Lk)("th",{style:{width:"2%"}},"获奖级别"),(0,l.Lk)("th",{style:{width:"2%"}},"参加形式"),(0,l.Lk)("th",{style:{width:"2%"}},"排名"),(0,l.Lk)("th",{style:{width:"2%"}},"获得时间"),(0,l.Lk)("th",{style:{width:"3%"}},"举办单位"),(0,l.Lk)("th",{style:{width:"3%"}},"证书照片"),(0,l.Lk)("th",{style:{width:"3%"}},"相关文件"),(0,l.Lk)("th",{style:{width:"1%"}},"详情")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(P.StudentDisciplineCompetitionTable,(t=>((0,l.uX)(),(0,l.CE)("tr",{key:t.studentNumber},[(0,l.Lk)("td",null,(0,a.v_)(t.subjectCompetitions[0].studentName),1),(0,l.Lk)("td",null,(0,a.v_)(t.subjectCompetitions[0].certificateName),1),(0,l.Lk)("td",null,(0,a.v_)(t.subjectCompetitions[0].certificateNumber),1),(0,l.Lk)("td",null,(0,a.v_)(t.subjectCompetitions[0].awardLevel),1),(0,l.Lk)("td",null,(0,a.v_)(t.subjectCompetitions[0].participationForm),1),(0,l.Lk)("td",null,(0,a.v_)(t.subjectCompetitions[0].rank),1),(0,l.Lk)("td",null,(0,a.v_)(t.subjectCompetitions[0].getTime),1),(0,l.Lk)("td",null,(0,a.v_)(t.subjectCompetitions[0].organizer),1),(0,l.Lk)("td",{onClick:e=>j.pictureInspectClick(t.subjectCompetitions[0].certificationPhoto)},[(0,l.Lk)("img",{src:t.certificationPhoto,alt:"获奖照片",width:"100",height:"30"},null,8,c)],8,o),e[2]||(e[2]=(0,l.Lk)("td",null,[(0,l.Lk)("a",{href:"{{ records.subjectCompetitions[0].signUpFile }}",target:"_blank"},"点击查看文档")],-1)),(0,l.Lk)("td",{onClick:e=>j.ViewDetails(t),class:"Details"},"查看",8,r)])))),128))])])]),P.ifDetails?((0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("div",k,[e[7]||(e[7]=(0,l.Lk)("span",{class:"DisciplineCompetitionDetailsFormTitle"},"学生奖项详细信息",-1)),(0,l.Lk)("form",d,[(0,l.Lk)("div",p,[(0,l.Lk)("label",null,"姓名 : "+(0,a.v_)(P.studentDetails[0].studentName),1),(0,l.Lk)("label",null,"学号 : "+(0,a.v_)(P.studentDetails[0].studentNumber),1)]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(P.studentDetails,((t,i)=>((0,l.uX)(),(0,l.CE)("div",{key:i},[(0,l.Lk)("div",h,[(0,l.Lk)("label",null,"荣誉证书名 : "+(0,a.v_)(t.certificateName),1)]),(0,l.Lk)("div",L,[(0,l.Lk)("label",null,"荣誉证书编号 : "+(0,a.v_)(t.certificateNumber),1)]),(0,l.Lk)("div",m,[(0,l.Lk)("label",null,"获奖级别 : "+(0,a.v_)(t.awardLevel),1)]),(0,l.Lk)("div",C,[(0,l.Lk)("label",null,"参加形式 : "+(0,a.v_)(t.participateForm),1),(0,l.Lk)("label",null,"排名 : "+(0,a.v_)(t.rank),1)]),(0,l.Lk)("div",g,[(0,l.Lk)("label",null,"获得时间 : "+(0,a.v_)(t.getTime),1)]),(0,l.Lk)("div",b,[(0,l.Lk)("label",null,"举办单位 : "+(0,a.v_)(t.organizer),1)]),(0,l.Lk)("div",D,[e[4]||(e[4]=(0,l.Lk)("label",null,"证书照片 : ",-1)),(0,l.Lk)("label",null,[(0,l.Lk)("img",{src:t.certificationPhoto,alt:"图片描述",width:"400",height:"300"},null,8,v)])]),(0,l.Lk)("div",w,[e[5]||(e[5]=(0,l.Lk)("label",null,"相关文档 : ",-1)),(0,l.Lk)("a",f,(0,a.v_)(t.signUpFile),1)]),e[6]||(e[6]=(0,l.Lk)("br",null,null,-1))])))),128))]),(0,l.Lk)("button",{class:"DisciplineCompetitionDetailsFormCloseButton",onClick:e[0]||(e[0]=(...t)=>j.DisciplineCompetitionDetailsFormCloseButtonClick&&j.DisciplineCompetitionDetailsFormCloseButtonClick(...t))}," 关闭 ")])])):(0,l.Q3)("",!0),(0,l.Lk)("div",_,[(0,l.bF)(B,{size:"small","page-size":P.pageSize,"pager-count":10,background:"",layout:"prev, pager, next",total:P.total,onCurrentChange:j.handlePageChange},null,8,["page-size","total","onCurrentChange"])]),P.ifPicture?((0,l.uX)(),(0,l.CE)("div",{key:1,class:"DisciplineCompetitionDetailsBackground",onClick:e[1]||(e[1]=(...t)=>j.DisciplineCompetitionDetailsBackgroundClick&&j.DisciplineCompetitionDetailsBackgroundClick(...t))},[(0,l.Lk)("img",{src:this.pictureURL,alt:"图片描述",width:"70%",height:"300"},null,8,y)])):(0,l.Q3)("",!0)])}var P=i(6477),j={data(){return{StudentDisciplineCompetitionTable:[],studentDetails:{},ifPicture:!1,ifDetails:!1,pictureURL:"",currentPage:1,pageSize:12,total:130}},mounted(){this.FetchData()},methods:{formatDate(t){const e=new Date(t);return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`},pictureInspectClick(t){this.pictureURL=t,this.ifPicture=!0},DisciplineCompetitionDetailsBackgroundClick(){this.ifPicture=!1},handlePageChange(t){this.currentPage=t,this.FetchData()},async FetchData(){try{const t=await P.A.get("/admin/getAcademicPerformance/getSubjectCompetition",{params:{page:this.currentPage,pageSize:this.pageSize}});1==t.code?(this.total=t.data.total,this.StudentDisciplineCompetitionTable=t.data.records):this.$message("数据加载失败!")}catch(t){this.$message("数据加载失败!"),console.error("报错原因：",t)}},ViewDetails(t){this.RenewLabel(t),this.ifDetails=!0},RenewLabel(t){this.studentDetails=t.subjectCompetitions},DisciplineCompetitionDetailsFormCloseButtonClick(){this.ifDetails=!1}}},B=i(1241);const S=(0,B.A)(j,[["render",F],["__scopeId","data-v-c307083c"]]);var z=S}}]);
//# sourceMappingURL=984.2ca3762b.js.map