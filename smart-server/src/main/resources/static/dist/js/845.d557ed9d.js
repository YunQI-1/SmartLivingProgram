"use strict";(self["webpackChunkmytext"]=self["webpackChunkmytext"]||[]).push([[845],{5845:function(t,e,l){l.r(e),l.d(e,{default:function(){return P}});var a=l(6768),s=l(4232);const i={class:"MyHonourTotalBackground"},n={class:"MyHonourTableBackground"},r=["onClick"],o=["src"],u=["onClick"],c={class:"MyHonourPagination"},d={key:0,class:"MyHonourDetailsBackground"},k={class:"MyHonourDetailsFormBackground"},h={class:"MyHonourDetailsForm"},L={class:"label-row"},g={class:"label-row"},D={class:"label-row"},w={class:"label-row"},b={class:"label-row"},v={class:"label-row"},m={class:"label-row"},p={class:"label-row"},y={class:"label-row"},C={class:"label-row"},f=["src"],_=["src"];function M(t,e,l,M,H,F){const A=(0,a.g2)("el-pagination");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",n,[(0,a.Lk)("table",null,[e[2]||(e[2]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",{style:{width:"3%"}},"姓名"),(0,a.Lk)("th",{style:{width:"4%"}},"荣誉证书名"),(0,a.Lk)("th",{style:{width:"4%"}},"荣誉证书编号"),(0,a.Lk)("th",{style:{width:"4%"}},"获得时间"),(0,a.Lk)("th",{style:{width:"4%"}},"颁发部门"),(0,a.Lk)("th",{style:{width:"4%"}},"获奖级别"),(0,a.Lk)("th",{style:{width:"2%"}},"参加形式"),(0,a.Lk)("th",{style:{width:"2%"}},"排名"),(0,a.Lk)("th",{style:{width:"5%"}},"照片"),(0,a.Lk)("th",{style:{width:"1%"}},"详情")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(H.MyHonourTable,((t,e)=>((0,a.uX)(),(0,a.CE)("tr",{key:e},[(0,a.Lk)("td",null,(0,s.v_)(t.studentAwardDetails[0].studentName),1),(0,a.Lk)("td",null,(0,s.v_)(t.studentAwardDetails[0].awardName),1),(0,a.Lk)("td",null,(0,s.v_)(t.studentAwardDetails[0].certificateNumber),1),(0,a.Lk)("td",null,(0,s.v_)(F.formatDate(t.studentAwardDetails[0].getTime)),1),(0,a.Lk)("td",null,(0,s.v_)(t.studentAwardDetails[0].issuingDepartment),1),(0,a.Lk)("td",null,(0,s.v_)(t.studentAwardDetails[0].classification),1),(0,a.Lk)("td",null,(0,s.v_)(t.studentAwardDetails[0].participateForm),1),(0,a.Lk)("td",null,(0,s.v_)(t.studentAwardDetails[0].ranks),1),(0,a.Lk)("td",{onClick:e=>F.pictureInspectClick(t.studentAwardDetails[0].photo)},[(0,a.Lk)("img",{src:t.studentAwardDetails[0].photo,alt:"获奖照片",width:"100",height:"30"},null,8,o)],8,r),(0,a.Lk)("td",{onClick:e=>F.ViewDetails(t),class:"Details"},"查看",8,u)])))),128))])])]),(0,a.Lk)("div",c,[(0,a.bF)(A,{size:"small","page-size":H.pageSize,"pager-count":10,background:"",layout:"prev, pager, next",total:H.total,onCurrentChange:F.handlePageChange},null,8,["page-size","total","onCurrentChange"])]),H.ifDetails?((0,a.uX)(),(0,a.CE)("div",d,[(0,a.Lk)("div",k,[e[5]||(e[5]=(0,a.Lk)("span",{class:"MyHonourDetailsFormTitle"},"学生荣誉详细信息",-1)),(0,a.Lk)("form",h,[(0,a.Lk)("div",L,[(0,a.Lk)("label",null,"姓名 : "+(0,s.v_)(H.studentDetails[0].studentName),1),(0,a.Lk)("label",null,"学号 : "+(0,s.v_)(H.studentDetails[0].studentNumber),1)]),(0,a.Lk)("div",g,[(0,a.Lk)("label",null,"院系 : "+(0,s.v_)(H.studentDetails[0].college),1)]),(0,a.Lk)("div",D,[(0,a.Lk)("label",null,"专业 : "+(0,s.v_)(H.studentDetails[0].major),1)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(H.studentDetails,((t,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l},[(0,a.Lk)("div",w,[(0,a.Lk)("label",null,"荣誉证书名 : "+(0,s.v_)(t.awardName),1)]),(0,a.Lk)("div",b,[(0,a.Lk)("label",null,"荣誉证书编号 : "+(0,s.v_)(t.certificateNumber),1)]),(0,a.Lk)("div",v,[(0,a.Lk)("label",null,"获得时间 : "+(0,s.v_)(t.getTime),1)]),(0,a.Lk)("div",m,[(0,a.Lk)("label",null,"颁发部门 : "+(0,s.v_)(t.issuingDepartment),1)]),(0,a.Lk)("div",p,[(0,a.Lk)("label",null,"荣誉等级 : "+(0,s.v_)(t.classification),1)]),(0,a.Lk)("div",y,[(0,a.Lk)("label",null,"参加形式 : "+(0,s.v_)(t.participateForm),1),(0,a.Lk)("label",null,"排名 : "+(0,s.v_)(t.ranks),1)]),(0,a.Lk)("div",C,[e[3]||(e[3]=(0,a.Lk)("label",null,"照片 : ",-1)),(0,a.Lk)("label",null,[(0,a.Lk)("img",{src:t.photo,alt:"图片描述",width:"400",height:"300"},null,8,f)])]),e[4]||(e[4]=(0,a.Lk)("br",null,null,-1))])))),128))]),(0,a.Lk)("button",{class:"MyHonourDetailsFormCloseButton",onClick:e[0]||(e[0]=(...t)=>F.MyHonourDetailsFormCloseButtonClick&&F.MyHonourDetailsFormCloseButtonClick(...t))}," 关闭 ")])])):(0,a.Q3)("",!0),H.ifPicture?((0,a.uX)(),(0,a.CE)("div",{key:1,class:"MyHonourDetailsBackground",onClick:e[1]||(e[1]=(...t)=>F.MyHonourDetailsBackgroundClick&&F.MyHonourDetailsBackgroundClick(...t))},[(0,a.Lk)("img",{src:this.pictureURL,alt:"图片描述",width:"70%",height:"300"},null,8,_)])):(0,a.Q3)("",!0)])}var H=l(6477),F={data(){return{MyHonourTable:[],ifDetails:!1,ifPicture:!1,pictureURL:"",studentDetails:{},currentPage:1,pageSize:13,total:130}},mounted(){this.FetchData()},methods:{formatDate(t){const e=new Date(t);return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`},MyHonourDetailsBackgroundClick(){this.ifPicture=!1},handlePageChange(t){this.currentPage=t,this.FetchData()},pictureInspectClick(t){this.pictureURL=t,this.ifPicture=!0},async FetchData(){try{const t=await H.A.get("/admin/getAcademicPerformance/getAcademicCompetition",{params:{page:this.currentPage,pageSize:this.pageSize}});1==t.code?(this.total=t.data.total,this.MyHonourTable=t.data.records):this.$message("数据加载失败!")}catch(t){this.$message("数据加载失败!"),console.error("报错原因：",t)}},ViewDetails(t){this.RenewLabel(t),this.ifDetails=!0},RenewLabel(t){this.studentDetails=t.studentAwardDetails},MyHonourDetailsFormCloseButtonClick(){this.ifDetails=!1}}},A=l(1241);const B=(0,A.A)(F,[["render",M],["__scopeId","data-v-b2c04cbc"]]);var P=B}}]);
//# sourceMappingURL=845.d557ed9d.js.map